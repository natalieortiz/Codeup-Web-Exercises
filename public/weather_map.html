<!DOCTYPE html>
<html>
<head>
	<title>Weather Map</title>
	<style type="text/css">
        #map-canvas {
            width: 770px;
            height: 481px;
        }
        #forecast {

        }
        .city_name {
        	padding-top: 20px;
        	padding-bottom: 5px;
        	font-weight: bold;
        	font-size: 18px; 
        	margin-left: 10px;
        	font-size: 2em;
        }
        .day {
        	float: left; 
        	padding-left: 20px;
        	padding-right: 20px;
        	padding-top: 20px;
        	text-align: center;
        	border: solid 1px darkgrey;
        	width: 200px;
        	background: #dadbdc;
        	margin-bottom: 10px;
        }
        .day p {

        }
        .bold{
			font-weight: bold;
			font-size: 1.3em;
		}	
    </style>
</head>
<body>

<div id="map-canvas"></div>
<div id="city_name" class="city_name"></div>
<div id="forecast"></div>
	

<!-- Load the Google Maps API [DON'T FORGET TO USE A KEY] -->
<script src="https://maps.googleapis.com/maps/api/js?key=AIzaSyCWs1sfMFNDNq25WBVzAKE0T3ARtpG0RA4"></script>
<script src="http://code.jquery.com/jquery-1.11.0.min.js"></script>
<script type="text/javascript">
(function(){
	"use strict";

	// Set our map options
	var mapOptions = {
		// Set the zoom level
		zoom: 10,

		// This sets the center of the map at our location
		center: {
			lat:  29.426791,
			lng: -98.489602
		},
		mapTypeControlOptions: {
      		mapTypeIds: [google.maps.MapTypeId.ROADMAP, 'map_style']
    	}
	};

	// Render the map
	var map = new google.maps.Map(document.getElementById("map-canvas"), mapOptions);


	var weather = $.get("http://api.openweathermap.org/data/2.5/forecast/daily", {
    APPID: "f97ab9e536a6a913b3a0d48dc0540193",
    q:     "San Antonio, TX",
    units: "imperial",
    cnt: 3
	});
	
	weather.done (function(data){
		console.log(data);
		console.log(data.city.name);
		var box = $('#forecast');
		var name_box = $('#city_name');
		var name = data.city.name;
		name_box.append(name);
		var content = "";

		// for(var i=0; i < data.list.length; i++){
		// 	content += "<div class='day'><p>" + data.list[i].temp.min + " / " +  data.list[i].temp.max + "</p>";
		// 	content += "<p class='data'>" + data.list[i].weather.icon + "</p></div>";
			
		// 	box.append(content);
		// }

		data.list.forEach(function(element,index){
			var content = "";
			content += "<div class='day'><span class='bold'><p>" + data.list[index].temp.min + " / " +  data.list[index].temp.max + "</p></span>";
			content += "<p class='data'>" + data.list[index].weather.icon + "</p>";
			content += "<p class='data'>" + data.list[index].humidity + "</p>";
			content += "<p class='data'>" + data.list[index].speed + "</p>";
			content += "<p class='data'>" + data.list[index].pressure + "</p></div>"
			box.append(content);

		})

	});
	
})();


</script>
</body>
</html>